<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Compute an average dose-response function — sim_adrf • clarify</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compute an average dose-response function — sim_adrf"><meta name="description" content="sim_adrf() is a wrapper for sim_apply() that computes average dose-response functions (ADRFs) and average marginal effect functions (AMEFs). An ADRF describes the relationship between values a focal variable can take and the expected value of the outcome were all units to be given each value of the variable. An AMEF describes the relationship between values a focal variable can take and the derivative of ADRF at each value."><meta property="og:description" content="sim_adrf() is a wrapper for sim_apply() that computes average dose-response functions (ADRFs) and average marginal effect functions (AMEFs). An ADRF describes the relationship between values a focal variable can take and the expected value of the outcome were all units to be given each value of the variable. An AMEF describes the relationship between values a focal variable can take and the derivative of ADRF at each value."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">clarify</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/clarify.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Zelig.html">Translating Zelig to clarify</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/iqss/clarify/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Compute an average dose-response function</h1>
      <small class="dont-index">Source: <a href="https://github.com/iqss/clarify/blob/main/R/sim_adrf.R" class="external-link"><code>R/sim_adrf.R</code></a></small>
      <div class="d-none name"><code>sim_adrf.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>sim_adrf()</code> is a wrapper for <code><a href="sim_apply.html">sim_apply()</a></code> that computes average dose-response functions (ADRFs) and average marginal effect functions (AMEFs). An ADRF describes the relationship between values a focal variable can take and the expected value of the outcome were all units to be given each value of the variable. An AMEF describes the relationship between values a focal variable can take and the derivative of ADRF at each value.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sim_adrf</span><span class="op">(</span></span>
<span>  <span class="va">sim</span>,</span>
<span>  <span class="va">var</span>,</span>
<span>  subset <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  contrast <span class="op">=</span> <span class="st">"adrf"</span>,</span>
<span>  at <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  n <span class="op">=</span> <span class="fl">21</span>,</span>
<span>  outcome <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  type <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  eps <span class="op">=</span> <span class="fl">1e-05</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  cl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'clarify_adrf'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, digits <span class="op">=</span> <span class="fl">4L</span>, max.ests <span class="op">=</span> <span class="fl">6L</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-sim">sim<a class="anchor" aria-label="anchor" href="#arg-sim"></a></dt>
<dd><p>a <code>clarify_sim</code> object; the output of a call to <code><a href="sim.html">sim()</a></code> or <code><a href="misim.html">misim()</a></code>.</p></dd>


<dt id="arg-var">var<a class="anchor" aria-label="anchor" href="#arg-var"></a></dt>
<dd><p>the name of a variable for which the ADRF or AMEF is to be computed. This variable must be present in the model supplied to <code><a href="sim.html">sim()</a></code> and must be a numeric variable taking on more than two unique values.</p></dd>


<dt id="arg-subset">subset<a class="anchor" aria-label="anchor" href="#arg-subset"></a></dt>
<dd><p>optional; a vector used to subset the data used to compute the ADRF or AMEF. This will be evaluated within the original dataset used to fit the model using <code><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset()</a></code>, so nonstandard evaluation is allowed.</p></dd>


<dt id="arg-by">by<a class="anchor" aria-label="anchor" href="#arg-by"></a></dt>
<dd><p>a one-sided formula or character vector containing the names of variables for which to stratify the estimates. Each quantity will be computed within each level of the complete cross of the variables specified in <code>by</code>.</p></dd>


<dt id="arg-contrast">contrast<a class="anchor" aria-label="anchor" href="#arg-contrast"></a></dt>
<dd><p>a string naming the type of quantity to be produced: <code>"adrf"</code> for the ADRF (the default) or <code>"amef"</code> for the AMEF.</p></dd>


<dt id="arg-at">at<a class="anchor" aria-label="anchor" href="#arg-at"></a></dt>
<dd><p>the levels of the variable named in <code>var</code> at which to evaluate the ADRF or AMEF. Should be a vector of numeric values corresponding to possible levels of <code>var</code>. If <code>NULL</code>, will be set to a range from slightly below the lowest observed value of <code>var</code> to slightly above the largest value.</p></dd>


<dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>when <code>at = NULL</code>, the number of points to evaluate the ADRF or AMEF. Default is 21. Ignored when <code>at</code> is not <code>NULL</code>.</p></dd>


<dt id="arg-outcome">outcome<a class="anchor" aria-label="anchor" href="#arg-outcome"></a></dt>
<dd><p>a string containing the name of the outcome or outcome level for multivariate (multiple outcomes) or multi-category outcomes. Ignored for univariate (single outcome) and binary outcomes.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>a string containing the type of predicted values (e.g., the link or the response). Passed to <code><a href="https://marginaleffects.com/man/r/get_predict.html" class="external-link">marginaleffects::get_predict()</a></code> and eventually to <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> in most cases. The default and allowable option depend on the type of model supplied, but almost always corresponds to the response scale (e.g., predicted probabilities for binomial models).</p></dd>


<dt id="arg-eps">eps<a class="anchor" aria-label="anchor" href="#arg-eps"></a></dt>
<dd><p>when <code>contrast = "amef"</code>, the value by which to shift the value of <code>var</code> to approximate the derivative. See Details.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p><code>logical</code>; whether to display a text progress bar indicating progress and estimated time remaining for the procedure. Default is <code>TRUE</code>.</p></dd>


<dt id="arg-cl">cl<a class="anchor" aria-label="anchor" href="#arg-cl"></a></dt>
<dd><p>a cluster object created by <code><a href="https://rdrr.io/r/parallel/makeCluster.html" class="external-link">parallel::makeCluster()</a></code>, or an integer to indicate the number of child-processes (integer values are ignored on Windows) for parallel evaluations. See <code><a href="https://peter.solymos.org/pbapply/reference/pbapply.html" class="external-link">pbapply::pblapply()</a></code> for details. If <code>NULL</code>, no parallelization will take place.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>for <code>sim_adrf()</code>, additional arguments passed to <code><a href="https://marginaleffects.com/man/r/get_predict.html" class="external-link">marginaleffects::get_predict()</a></code> (and eventually to <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code>) to compute predictions. For <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code>, ignored.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>a <code>clarify_adrf</code> object.</p></dd>


<dt id="arg-digits">digits<a class="anchor" aria-label="anchor" href="#arg-digits"></a></dt>
<dd><p>the minimum number of significant digits to be used; passed to <code><a href="https://rdrr.io/r/base/print.dataframe.html" class="external-link">print.data.frame()</a></code>.</p></dd>


<dt id="arg-max-ests">max.ests<a class="anchor" aria-label="anchor" href="#arg-max-ests"></a></dt>
<dd><p>the maximum number of estimates to display.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>clarify_adrf</code> object, which inherits from <code>clarify_est</code> and is similar to
the output of <code><a href="sim_apply.html">sim_apply()</a></code>, with the additional attributes <code>"var"</code> containing
the variable named in <code>var</code>, <code>"by"</code> containing the names of the variables specified in <code>by</code> (if any), <code>"at"</code> containing values at which the ADRF or AMEF is evaluated, and <code>"contrast"</code> containing the argument supplied to <code>contrast</code>. For an ADRF, the average marginal means will be named
<code>E[Y({v})]</code>, where <code>{v}</code> is replaced with the values in <code>at</code>. For an AMEF, the average marginal effects will be
named <code>dY/d({x})|{a}</code> where <code>{x}</code> is replaced with <code>var</code> and <code>{a}</code> is replaced by the values in <code>at</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The ADRF is composed of average marginal means across levels of the focal predictor. For each level of the focal predictor, predicted values of the outcome are computed after setting the value of the predictor to that level, and those values of the outcome are averaged across all units in the sample to arrive at an average marginal mean. Thus, the ADRF represent the relationship between the "dose" (i.e., the level of the focal predictor) and the average "response" (i.e., the outcome variable). It is the continuous analog to the average marginal effect computed for a binary predictor, e.g., using <code><a href="sim_ame.html">sim_ame()</a></code>. Although inference can be at each level of the predictor or between two levels of the predictor, typically a plot of the ADRF is the most useful relevant quantity. These can be requested using <code><a href="plot.clarify_adrf.html">plot.clarify_adrf()</a></code>.</p>
<p>The AMEF is the derivative of the ADRF; if we call the derivative of the ADRF at each point a "treatment effect" (i.e., the rate at which the outcome changes corresponding to a small change in the predictor, or "treatment"), the AMEF is a function that relates the size of the treatment effect to the level of the treatment. The shape of the AMEF is usually of less importance than the value of the AMEF at each level of the predictor, which corresponds to the size of the treatment effect at the corresponding level. The AMEF is computed by computing the ADRF at each level of the focal predictor specified in <code>at</code>, shifting the predictor value by a tiny amount (control by <code>eps</code>), and computing the ratio of the change in the outcome to the shift, then averaging this value across all units. This quantity is related the the average marginal effect of a continuous predictor as computed by <code><a href="sim_ame.html">sim_ame()</a></code>, but rather than average these treatment effects across all observed levels of the treatment, the AMEF is a function evaluated at each possible level of the treatment. The "tiny amount" used is <code>eps</code> times the standard deviation of <code>var</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="plot.clarify_adrf.html">plot.clarify_adrf()</a></code> for plotting the ADRF or AMEF; <code><a href="sim_ame.html">sim_ame()</a></code> for computing average marginal effects; <code><a href="sim_apply.html">sim_apply()</a></code>, which provides a general interface to computing any quantities for simulation-based inference; <code><a href="summary.clarify_est.html">summary.clarify_est()</a></code> for computing p-values and confidence intervals for the estimated quantities.</p>
<p><code><a href="https://marginaleffects.com/man/r/slopes.html" class="external-link">marginaleffects::avg_slopes()</a></code> and <code><a href="https://marginaleffects.com/man/r/predictions.html" class="external-link">marginaleffects::avg_predictions()</a></code> for delta method-based implementations of computing average marginal effects and average marginal means.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"lalonde"</span>, package <span class="op">=</span> <span class="st">"MatchIt"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Fit the model</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="va">re78</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">~</span> <span class="va">treat</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">race</span> <span class="op">+</span></span></span>
<span class="r-in"><span>             <span class="va">married</span> <span class="op">+</span> <span class="va">re74</span>,</span></span>
<span class="r-in"><span>           data <span class="op">=</span> <span class="va">lalonde</span>, family <span class="op">=</span> <span class="va">binomial</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Simulate coefficients</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">s</span> <span class="op">&lt;-</span> <span class="fu"><a href="sim.html">sim</a></span><span class="op">(</span><span class="va">fit</span>, n <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ADRF for `age`</span></span></span>
<span class="r-in"><span><span class="va">est</span> <span class="op">&lt;-</span> <span class="fu">sim_adrf</span><span class="op">(</span><span class="va">s</span>, var <span class="op">=</span> <span class="st">"age"</span>,</span></span>
<span class="r-in"><span>                at <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">15</span>, <span class="fl">55</span>, length.out <span class="op">=</span> <span class="fl">6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">est</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A `clarify_est` object (from `sim_adrf()`)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Average dose-response function of `age`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - 100 simulated values</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - 6 quantities estimated:                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  E[Y(15)] 0.8443</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  E[Y(23)] 0.7976</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  E[Y(31)] 0.7416</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  E[Y(39)] 0.6770</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  E[Y(47)] 0.6052</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  E[Y(55)] 0.5290</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">est</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="sim_adrf-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># AMEF for `age`</span></span></span>
<span class="r-in"><span><span class="va">est</span> <span class="op">&lt;-</span> <span class="fu">sim_adrf</span><span class="op">(</span><span class="va">s</span>, var <span class="op">=</span> <span class="st">"age"</span>, contrast <span class="op">=</span> <span class="st">"amef"</span>,</span></span>
<span class="r-in"><span>               at <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">15</span>, <span class="fl">55</span>, length.out <span class="op">=</span> <span class="fl">6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">est</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A `clarify_est` object (from `sim_adrf()`)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Average marginal effect function of `age`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - 100 simulated values</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - 6 quantities estimated:                          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  E[dY/d(age)|15] -0.005258</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  E[dY/d(age)|23] -0.006415</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  E[dY/d(age)|31] -0.007563</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  E[dY/d(age)|39] -0.008575</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  E[dY/d(age)|47] -0.009314</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  E[dY/d(age)|55] -0.009668</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">est</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 Estimate    2.5 %   97.5 %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> E[dY/d(age)|15] -0.00526 -0.00692 -0.00333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> E[dY/d(age)|23] -0.00641 -0.00904 -0.00364</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> E[dY/d(age)|31] -0.00756 -0.01127 -0.00394</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> E[dY/d(age)|39] -0.00858 -0.01309 -0.00422</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> E[dY/d(age)|47] -0.00931 -0.01410 -0.00447</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> E[dY/d(age)|55] -0.00967 -0.01379 -0.00467</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">est</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="sim_adrf-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ADRF for `age` within levels of `married`</span></span></span>
<span class="r-in"><span><span class="va">est</span> <span class="op">&lt;-</span> <span class="fu">sim_adrf</span><span class="op">(</span><span class="va">s</span>, var <span class="op">=</span> <span class="st">"age"</span>,</span></span>
<span class="r-in"><span>                at <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">15</span>, <span class="fl">55</span>, length.out <span class="op">=</span> <span class="fl">6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                by <span class="op">=</span> <span class="op">~</span><span class="va">married</span>,</span></span>
<span class="r-in"><span>                verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">est</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A `clarify_est` object (from `sim_adrf()`)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Average dose-response function of `age`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - within levels of `married`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - 100 simulated values</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - 12 quantities estimated:                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  E[Y(15)|0] 0.8215</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  E[Y(23)|0] 0.7694</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  E[Y(31)|0] 0.7077</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --- 6 rows omitted. ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  E[Y(39)|1] 0.7324</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  E[Y(47)|1] 0.6669</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  E[Y(55)|1] 0.5948</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">est</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="sim_adrf-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Difference between ADRFs</span></span></span>
<span class="r-in"><span><span class="va">est_diff</span> <span class="op">&lt;-</span> <span class="va">est</span><span class="op">[</span><span class="fl">7</span><span class="op">:</span><span class="fl">12</span><span class="op">]</span> <span class="op">-</span> <span class="va">est</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">est_diff</span><span class="op">)</span> <span class="op">+</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y <span class="op">=</span> <span class="st">"Diff"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="sim_adrf-4.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Noah Greifer, Steven Worthington, Stefano Iacus, Gary King.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

